# Updated HTML with manual audio play fallback for mobile browsers

jumpscare_audio_fixed = """
<!DOCTYPE html>
<html>
<head>
  <title>Jumpscare Prank 😈</title>
  <style>
    body {
      background-color: black;
      color: lime;
      font-family: monospace;
      text-align: center;
      padding-top: 100px;
      transition: background-color 0.1s;
    }
    .spam {
      font-size: 24px;
      animation: blink 0.2s infinite;
    }
    @keyframes blink {
      0% { opacity: 1; }
      50% { opacity: 0.1; }
      100% { opacity: 1; }
    }
    #jumpscare {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: black;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      flex-direction: column;
    }
    #jumpscare img {
      max-width: 100%;
      max-height: 100%;
    }
    #reload-btn {
      display: none;
      margin-top: 20px;
      font-size: 20px;
      padding: 10px 20px;
      background: red;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>LAG DETECTED 🔥</h1>
  <p>System overload... please wait...</p>
  <div id="spam" class="spam"></div>

  <div id="jumpscare">
    <img src="https://play-lh.googleusercontent.com/qBiLTYKuDA9aecK01rKoBYMp19lLOSq3xJvLkjTxlLCOJ_blR9ZPvBUblRaKFbDQ8P29" alt="SCREAM" />
    <audio id="scream" src="Jumpscare Sound.mp3" preload="auto"></audio>
    <button id="reload-btn" onclick="location.reload()">Main Lagi 😄</button>
  </div>

  <script>
    const spam = document.getElementById("spam");
    const jumpscare = document.getElementById("jumpscare");
    const scream = document.getElementById("scream");
    const reloadBtn = document.getElementById("reload-btn");

    let text = "⚠️ SYSTEM FREEZING... ";
    let count = 0;

    const spammer = setInterval(() => {
      spam.textContent += text;
      count++;
      if (count > 15) spam.textContent = "";
    }, 150);

    setTimeout(() => {
      setInterval(() => {
        document.body.style.backgroundColor = 
          document.body.style.backgroundColor === "black" ? "red" : "black";
      }, 100);
    }, 10000);

    setTimeout(() => {
      clearInterval(spammer);
      jumpscare.style.display = "flex";
      scream.play().catch(() => {
        // fallback if autoplay is blocked
        document.body.addEventListener('click', () => {
          scream.play();
        }, { once: true });
      });
      reloadBtn.style.display = "block";
    }, 15000);
  </script>
</body>
</html>
"""

# Save new HTML file
file_path = "/mnt/data/index.html"
with open(file_path, "w", encoding="utf-8") as f:
    f.write(jumpscare_audio_fixed)

file_path
